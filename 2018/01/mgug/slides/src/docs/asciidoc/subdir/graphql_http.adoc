== +++<span style="color:white;">Http + GraphQL</span>+++

[%notitle]
image::languages.jpg[background, size=cover]

=== +++<span style="color:#fdc329;">Ratpack + GraphQL</span>+++

[%notitle]
image::ratpack_trio.jpg[background, size=cover]

=== Tecnologias

[%step]
- Ratpack
- GQL
- GraphiQL

=== Tipo Film

[source, groovy]
----
include::{gql}/src/main/groovy/bond/graphql/Types.groovy[tags=Film, indent=0]
----

=== Consultas

[source, groovy]
----
include::{gql}/src/main/groovy/bond/graphql/SchemaProvider.groovy[tags=queries, indent=0]
----

=== Ratpack Handler

[source, groovy]
----
include::{gql}/src/main/groovy/bond/handler/Handler.groovy[tags=handler, indent=0]
----

=== Uri mapping

[source, groovy]
----
include::{gql}/src/ratpack/handlers.groovy[tags=graphql, indent=0]
----


[%step]
- 1. GraphQL endpoint
- 2. GraphiQL

=== +++<span style="color:white;">Showtime!</span>+++

[%notitle]
image::ratpack_demo.jpg[background, size=cover]

=== Grails + GORM

[%notitle]
image::grails.png[background, size=cover]

=== GORM GraphQL
https://grails.github.io/gorm-graphql/latest/guide/index.html

=== Por que Grails/GORM ?

[%step]
* **Gorm** es una buena abstracion para bases de datos
* Tus **entidades** Gorm expuestas como tipos GraphQL
* **GraphiQL** auto-configurado en desarrollo
* **Plugin** Grails 3 / Standalone

=== Mapear tipos

[source, groovy]
----
include::{gorm}/grails-app/domain/greach/Film.groovy[tags=domain, indent=0]
----

=== Grails UrlMappings

[source, groovy]
----
include::{gorm}/grails-app/controllers/gorm/UrlMappings.groovy[tags=graphql,indent=0]
----

=== Grails controller

[source, groovy]
----
include::{gorm}/grails-app/controllers/greach/GraphController.groovy[tags=controller, indent=0]
----

=== GraphQL buenas practicas: Id hashing

[source, groovy]
----
include::{gorm}/src/test/groovy/greach/FilmSpec.groovy[tags=recommendation, indent=0]
----

Instead of passing **1** use a hash like **hagghsXy==**
